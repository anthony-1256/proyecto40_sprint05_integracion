import{A as _t,B as vt,D as ge,E as T,F as fe,G as I,a as Be,b as Fe,c as R,d as ae,e as b,f as pt,g as se,h as Z,i as N,j as ut,k as gt,l as le,m as oe,n as U,o as P,p as V,q as Q,r as ft,s as Y,t as ee,u as W,v as de,w as ce,x as me,y as pe,z as ue}from"./chunk-WCT7CNWR.js";import{$ as u,$a as y,Ba as S,Eb as mt,Ga as C,L as Ye,La as g,N as Te,S as nt,Sa as c,T as G,Ta as at,Ua as E,Va as X,Wa as q,Xa as L,Y as rt,Ya as i,Za as t,_ as p,_a as m,a as ie,b as ne,cb as _,d as re,da as et,db as f,eb as Oe,fa as Ie,fb as J,gb as st,hb as lt,ib as dt,jb as Ae,ka as Se,kb as r,lb as x,mb as v,nb as O,ob as A,pb as k,rb as F,sb as H,tb as z,ua as ot,ub as ke,wa as l,wb as ct}from"./chunk-HA26ZXMN.js";var _e=(h=>(h.HDD="Disco Duro Mec\xE1nico",h.SSD_SATA="SSD SATA",h.SSD_M2_NVME="SSD M.2 NVMe",h.MICRO_SD="MicroSD",h.SD_CARD="Tarjeta SD",h.USB="Memoria USB",h))(_e||{});var Ne=[{id:1,name:"WD Blue 1TB",brand:"Western Digital",model:"WD10EZEX",category:"Disco Duro Mec\xE1nico",capacity:"1 TB",speed:"7200 RPM",sku:"WD10EZEX",description:"WD Blue 1TB, disco duro mec\xE1nico de 3.5 pulgadas, ideal para almacenamiento general en PC de escritorio. Modelo: WD10EZEX. SKU: WD10EZEX.",price:799,available:!0,deliveryOption:"Ambos",quantity:25,image:"https://example.com/wd-blue-1tb.jpg"},{id:2,name:"Seagate Barracuda 2TB",brand:"Seagate",model:"ST2000DM008",category:"Disco Duro Mec\xE1nico",capacity:"2 TB",speed:"7200 RPM",sku:"ST2000DM008",description:"Seagate Barracuda 2TB, almacenamiento confiable y de alta capacidad para uso general. Modelo: ST2000DM008. SKU: ST2000DM008.",price:1149,available:!0,deliveryOption:"Env\xEDo",quantity:18,image:"https://example.com/seagate-barracuda-2tb.jpg"},{id:3,name:"Toshiba P300 3TB",brand:"Toshiba",model:"HDWD130XZSTA",category:"Disco Duro Mec\xE1nico",capacity:"3 TB",speed:"7200 RPM",sku:"HDWD130XZSTA",description:"Toshiba P300 3TB, alto rendimiento para trabajo intenso con archivos grandes. Modelo: HDWD130XZSTA. SKU: HDWD130XZSTA.",price:1549,available:!0,deliveryOption:"Tienda",quantity:10,image:"https://example.com/toshiba-p300-3tb.jpg"},{id:4,name:"Kingston A400 240GB",brand:"Kingston",model:"SA400S37/240G",category:"SSD SATA",capacity:"240 GB",speed:"500 MB/s",sku:"KSA400240GB",description:"Kingston A400, SSD SATA 2.5, 240 GB, ideal para mejorar la velocidad de arranque y carga de tu equipo. SA400S37/240G, 500MB/s. SKU: KSA400240GB.",price:429,available:!0,deliveryOption:"Ambos",quantity:15,image:"https://example.com/kingston-a400-240gb.jpg"},{id:5,name:"Crucial BX500 480GB",brand:"Crucial",model:"CT480BX500SSD1",category:"SSD SATA",capacity:"480 GB",speed:"540 MB/s",sku:"CT480BX500SSD1",description:"Crucial BX500 480GB, excelente para aumentar el rendimiento de tu laptop o PC de escritorio. Modelo: CT480BX500SSD1. SKU: CT480BX500SSD1.",price:689,available:!0,deliveryOption:"Env\xEDo",quantity:20,image:"https://example.com/crucial-bx500-480gb.jpg"},{id:6,name:"ADATA SU800 1TB",brand:"ADATA",model:"ASU800SS-1TT-C",category:"SSD SATA",capacity:"1 TB",speed:"560 MB/s",sku:"ASU800SS-1TT-C",description:"ADATA SU800 1TB, confiabilidad y alto rendimiento para tareas exigentes. Modelo: ASU800SS-1TT-C. SKU: ASU800SS-1TT-C.",price:1199,available:!0,deliveryOption:"Tienda",quantity:12,image:"https://example.com/adata-su800-1tb.jpg"},{id:7,name:"Samsung 980 500GB",brand:"Samsung",model:"MZ-V8V500",category:"SSD M.2 NVMe",capacity:"500 GB",speed:"3100 MB/s",sku:"MZ-V8V500",description:"Samsung 980 500GB NVMe M.2, rendimiento superior para gaming y creaci\xF3n de contenido. Modelo: MZ-V8V500. SKU: MZ-V8V500.",price:1069,available:!0,deliveryOption:"Ambos",quantity:14,image:"https://example.com/samsung-980-500gb.jpg"},{id:8,name:"WD Black SN770 1TB",brand:"Western Digital",model:"WDS100T3X0E",category:"SSD M.2 NVMe",capacity:"1 TB",speed:"5150 MB/s",sku:"WDS100T3X0E",description:"WD Black SN770 1TB, SSD M.2 NVMe, excelente velocidad para rendimiento extremo. Modelo: WDS100T3X0E. SKU: WDS100T3X0E.",price:1599,available:!0,deliveryOption:"Env\xEDo",quantity:9,image:"https://example.com/wd-black-sn770-1tb.jpg"},{id:9,name:"Corsair MP600 2TB",brand:"Corsair",model:"CSSD-F2000GBMP600",category:"SSD M.2 NVMe",capacity:"2 TB",speed:"4950 MB/s",sku:"CSSD-F2000GBMP600",description:"Corsair MP600 2TB NVMe PCIe Gen4 M.2, ideal para tareas ultra r\xE1pidas. Modelo: CSSD-F2000GBMP600. SKU: CSSD-F2000GBMP600.",price:2599,available:!0,deliveryOption:"Tienda",quantity:7,image:"https://example.com/corsair-mp600-2tb.jpg"},{id:10,name:"SanDisk Ultra 64GB MicroSD",brand:"SanDisk",model:"SDSQUA4-064G-GN6MA",category:"MicroSD",capacity:"64 GB",speed:"120 MB/s",sku:"SDSQUA4-064G-GN6MA",description:"SanDisk Ultra MicroSDXC UHS-I 64GB, ideal para smartphones y tablets. Modelo: SDSQUA4-064G-GN6MA. SKU: SDSQUA4-064G-GN6MA.",price:159,available:!0,deliveryOption:"Ambos",quantity:30,image:"https://example.com/sandisk-ultra-64gb.jpg"},{id:11,name:"Kingston Canvas Go! 128GB MicroSD",brand:"Kingston",model:"SDCG3/128GB",category:"MicroSD",capacity:"128 GB",speed:"100 MB/s",sku:"SDCG3/128GB",description:"Kingston Canvas Go! 128GB MicroSD, perfecta para c\xE1maras y smartphones. Modelo: SDCG3/128GB. SKU: SDCG3/128GB.",price:289,available:!0,deliveryOption:"Env\xEDo",quantity:25,image:"https://example.com/kingston-canvas-go-128gb.jpg"},{id:12,name:"Samsung Evo Select 256GB MicroSD",brand:"Samsung",model:"MB-ME256GA/AM",category:"MicroSD",capacity:"256 GB",speed:"100 MB/s",sku:"MB-ME256GA/AM",description:"Samsung Evo Select 256GB MicroSD, gran capacidad para c\xE1maras, drones y tel\xE9fonos. Modelo: MB-ME256GA/AM. SKU: MB-ME256GA/AM.",price:499,available:!0,deliveryOption:"Ambos",quantity:20,image:"https://example.com/samsung-evo-select-256gb.jpg"},{id:13,name:"Lexar 32GB USB 3.0",brand:"Lexar",model:"LJDS32GABNL1000",category:"Memoria USB",capacity:"32 GB",speed:"150 MB/s",sku:"LJDS32GABNL1000",description:"Lexar 32GB USB 3.0, compacto y r\xE1pido para transferencias de datos r\xE1pidas. Modelo: LJDS32GABNL1000. SKU: LJDS32GABNL1000.",price:129,available:!0,deliveryOption:"Env\xEDo",quantity:40,image:"https://example.com/lexar-32gb-usb-3.jpg"},{id:14,name:"Sandisk Ultra 64GB USB 3.0",brand:"SanDisk",model:"SDCZ48-064G-U46",category:"Memoria USB",capacity:"64 GB",speed:"100 MB/s",sku:"SDCZ48-064G-U46",description:"SanDisk Ultra 64GB USB 3.0, ideal para transferir archivos de manera r\xE1pida y segura. Modelo: SDCZ48-064G-U46. SKU: SDCZ48-064G-U46.",price:199,available:!0,deliveryOption:"Ambos",quantity:15,image:"https://example.com/sandisk-ultra-64gb-usb.jpg"},{id:15,name:"SanDisk Ultra Flair 128GB USB 3.0",brand:"SanDisk",model:"SDCZ73-128G-G46",category:"Memoria USB",capacity:"128 GB",speed:"150 MB/s",sku:"SDCZ73-128G-G46",description:"SanDisk Ultra Flair 128GB USB 3.0, transferencia de datos r\xE1pida y confiable. Modelo: SDCZ73-128G-G46. SKU: SDCZ73-128G-G46.",price:299,available:!0,deliveryOption:"Env\xEDo",quantity:18,image:"https://example.com/sandisk-ultra-flair-128gb-usb.jpg"},{id:16,name:"Kingston DataTraveler 256GB USB 3.1",brand:"Kingston",model:"DT100G3/256GB",category:"Memoria USB",capacity:"256 GB",speed:"200 MB/s",sku:"DT100G3/256GB",description:"Kingston DataTraveler 256GB USB 3.1, gran capacidad y velocidad de transferencia. Modelo: DT100G3/256GB. SKU: DT100G3/256GB.",price:559,available:!0,deliveryOption:"Tienda",quantity:22,image:"https://example.com/kingston-datatraveler-256gb-usb.jpg"},{id:17,name:"PNY Elite-X 128GB MicroSD",brand:"PNY",model:"P-SDUX128U390-GE",category:"MicroSD",capacity:"128 GB",speed:"90 MB/s",sku:"P-SDUX128U390-GE",description:"PNY Elite-X 128GB MicroSD, alta velocidad para smartphones y c\xE1maras. Modelo: P-SDUX128U390-GE. SKU: P-SDUX128U390-GE.",price:229,available:!0,deliveryOption:"Ambos",quantity:10,image:"https://example.com/pny-elite-x-128gb-microsd.jpg"},{id:18,name:"Corsair Flash Voyager 64GB USB",brand:"Corsair",model:"CMFVY3A-64GB",category:"Memoria USB",capacity:"64 GB",speed:"150 MB/s",sku:"CMFVY3A-64GB",description:"Corsair Flash Voyager 64GB USB 3.0, con una velocidad de lectura y escritura r\xE1pida. Modelo: CMFVY3A-64GB. SKU: CMFVY3A-64GB.",price:219,available:!0,deliveryOption:"Tienda",quantity:19,image:"https://example.com/corsair-flash-voyager-64gb-usb.jpg"},{id:19,name:"Lexar 64GB USB 3.0",brand:"Lexar",model:"LJDS64GABNL1000",category:"Memoria USB",capacity:"64 GB",speed:"150 MB/s",sku:"LJDS64GABNL1000",description:"Lexar 64GB USB 3.0, r\xE1pida y confiable para transferir datos importantes. Modelo: LJDS64GABNL1000. SKU: LJDS64GABNL1000.",price:179,available:!0,deliveryOption:"Ambos",quantity:28,image:"https://example.com/lexar-64gb-usb-3.jpg"},{id:20,name:"Samsung EVO Plus 512GB MicroSD",brand:"Samsung",model:"MB-MC512GA/AM",category:"MicroSD",capacity:"512 GB",speed:"100 MB/s",sku:"MB-MC512GA/AM",description:"Samsung EVO Plus 512GB MicroSD, ideal para c\xE1maras 4K y smartphones de alto rendimiento. Modelo: MB-MC512GA/AM. SKU: MB-MC512GA/AM.",price:749,available:!0,deliveryOption:"Env\xEDo",quantity:10,image:"https://example.com/samsung-evo-plus-512gb.jpg"}];var Ue=re(oe());var j=class o{getAll(){throw new Error("Method not implemented.")}color="#3E3F5B";bg_color="#BAB2A6 ";STORAGE_KEY="products_data";constructor(){}get products(){let n=localStorage.getItem(this.STORAGE_KEY);if(n)return JSON.parse(n);let e=[...Ne];return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)),e}set products(n){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}getAllProducts(){return this.products}getProductByID(n){return this.products.find(e=>e.id===n)}addProduct(n){let e=this.products;this.products=[...e,n],Ue.default.fire({text:"Producto Agregado",icon:"success",confirmButtonColor:this.color})}updateProduct(n){let e=this.products,a=e.findIndex(s=>s.id===n.id);a!==-1&&(e[a]=n,this.products=[...e],Ue.default.fire({text:"Producto Actualizado",icon:"success",confirmButtonColor:this.color}))}deleteProduct(n){let a=this.products.filter(s=>s.id!==n);this.products=a,Ue.default.fire({title:"Producto Eliminado",icon:"success",confirmButtonColor:this.color})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"})};function xt(o,n){if(o&1){let e=y();i(0,"div",5)(1,"div",6),_("click",function(){let s=p(e).$implicit,d=f(2);return u(d.viewDetails(s.id))}),i(2,"div",7)(3,"h5",8)(4,"strong"),r(5),t()(),i(6,"p",9),r(7),t(),i(8,"p",9)(9,"strong"),r(10,"Precio:"),t(),r(11),H(12,"currency"),t(),i(13,"p",9)(14,"strong"),r(15,"Categor\xEDa:"),t(),r(16),t()()()()}if(o&2){let e=n.$implicit;l(5),x(e.name),l(2),x(e.description),l(4),v(" ",z(12,4,e.price)," "),l(5),v(" ",e.category," ")}}function yt(o,n){if(o&1&&(i(0,"div",4),q(1,xt,17,6,"div",5,X),t()),o&2){let e=f();l(),L(e.filteredProducts)}}function Mt(o,n){o&1&&(i(0,"div",10),r(1," No hay productos disponibles. "),t())}var be=class o{constructor(n,e,a){this.productsService=n;this.router=e;this.route=a}products=[];filteredProducts=[];ngOnInit(){this.products=this.productsService.getAllProducts(),this.route.queryParams.subscribe(n=>{let e=n.search||"";this.filteredProducts=this.filterProducts(e)})}filterProducts(n){return n.trim()?this.products.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())):this.products}viewDetails(n){this.router.navigate([`productos/${n}`])}static \u0275fac=function(e){return new(e||o)(S(j),S(N),S(se))};static \u0275cmp=C({type:o,selectors:[["app-products"]],decls:6,vars:2,consts:[["noProducts",""],[1,"container","mt-4"],[1,"text-center","mb-4"],["class","row",4,"ngIf","ngIfElse"],[1,"row"],[1,"col-md-4","mb-4"],[1,"card","h-100","shadow",2,"cursor","pointer",3,"click"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"alert","alert-info","text-center"]],template:function(e,a){if(e&1&&(i(0,"div",1)(1,"h2",2),r(2,"Nuestros Productos"),t(),g(3,yt,3,0,"div",3)(4,Mt,2,0,"ng-template",null,0,ke),t()),e&2){let s=Ae(5);l(3),c("ngIf",a.filteredProducts.length>0)("ngIfElse",s)}},dependencies:[b,R,ae],encapsulation:2})};function Et(o,n){o&1&&(i(0,"p",3),r(1," En este momento no hay ofertas disponibles. "),t())}function Pt(o,n){if(o&1){let e=y();i(0,"div",12)(1,"div",13),m(2,"img",14),i(3,"div",15)(4,"h5",16),r(5),t(),i(6,"p",17)(7,"strong"),r(8,"SKU:"),t(),r(9),m(10,"br"),i(11,"strong"),r(12,"Precio:"),t(),r(13),m(14,"br"),i(15,"strong"),r(16,"Categor\xEDa:"),t(),r(17),t(),i(18,"button",18),_("click",function(){let s=p(e).$implicit,d=f(2);return u(d.viewDetails(s.id))}),r(19,"Ver detalles"),t()()()()}if(o&2){let e=n.$implicit,a=n.index;at("active",a===0),l(2),Oe("alt",e.name),l(3),x(e.name),l(4),v(" ",e.sku,""),l(4),v(" $",e.price,""),l(4),v(" ",e.category," ")}}function wt(o,n){if(o&1&&(i(0,"div",4)(1,"div",5),g(2,Pt,20,7,"div",6),t(),i(3,"button",7),m(4,"span",8),i(5,"span",9),r(6,"Previous"),t()(),i(7,"button",10),m(8,"span",11),i(9,"span",9),r(10,"Next"),t()()()),o&2){let e=f();l(2),c("ngForOf",e.offerProducts)}}var ye=class o{constructor(n,e){this.productsService=n;this.router=e}offerProducts=[];loadOfferProducts(){let n=this.productsService.getAllProducts(),e=JSON.parse(localStorage.getItem("offers")||"[]");console.log("Productos cargados:",n),console.log("Ofertas guardadas:",e),e.length===0&&console.warn("No hay ofertas guardadas en localStorage."),this.offerProducts=n.filter(a=>e.some(s=>s.sku===a.sku&&s.isOffer)),console.log("Productos en oferta:",this.offerProducts)}toggleOffer(n){let e=JSON.parse(localStorage.getItem("offers")||"[]"),a=e.findIndex(s=>s.id===n.id);a>-1?e.splice(a,1):e.push({id:n.id,sku:n.sku,isOffer:!0}),localStorage.setItem("offers",JSON.stringify(e)),this.loadOfferProducts()}ngOnInit(){this.loadOfferProducts()}viewDetails(n){this.router.navigate([`productos/${n}`])}static \u0275fac=function(e){return new(e||o)(S(j),S(N))};static \u0275cmp=C({type:o,selectors:[["app-home"]],decls:3,vars:2,consts:[[1,"container","mt-4"],["class","text-warning",4,"ngIf"],["id","offerCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],[1,"text-warning"],["id","offerCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#offerCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#offerCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"carousel-item"],[1,"card","h-100"],["src","https://via.placeholder.com/350x150",1,"card-img-top",3,"alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[3,"click"]],template:function(e,a){e&1&&(i(0,"div",0),g(1,Et,2,0,"p",1)(2,wt,11,1,"div",2),t()),e&2&&(l(),c("ngIf",a.offerProducts.length===0),l(),c("ngIf",a.offerProducts.length>0))},dependencies:[b,Fe,R,T],styles:[".carousel-inner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{width:300px;margin:10px}.card-img-top[_ngcontent-%COMP%]{height:150px;object-fit:cover}"]})};var Ve=class o{constructor(n){this.authService=n}fnAddUser(n){this.authService.addUser(n)}static \u0275fac=function(e){return new(e||o)(S(I))};static \u0275cmp=C({type:o,selectors:[["app-auth-page"]],decls:2,vars:0,consts:[[1,"auth-container"]],template:function(e,a){e&1&&(i(0,"div",0),m(1,"router-outlet"),t())},dependencies:[Z],encapsulation:2})};var K=re(oe());var tt=re(oe());var ve=class o{constructor(n){this.authService=n}getCart(){let n=this.authService.getUser().id,e=localStorage.getItem(`cart_user_${n}`);return e?JSON.parse(e):[]}saveCart(n){let e=this.authService.getUser().id;localStorage.setItem(`cart_user_${e}`,JSON.stringify(n))}addToCart(n,e){if(!this.authService.isLoggedIn()){tt.default.fire({icon:"warning",title:"Inicia sesi\xF3n",text:"Debes iniciar sesi\xF3n para agregar productos al carrito.",confirmButtonText:"OK"});return}let a=this.getCart(),s=ne(ie({},n),{quantity:e});a.push(s),this.saveCart(a),tt.default.fire({icon:"success",title:"Agregado al carrito",text:`${n.name} fue a\xF1adido al carrito.`,timer:2e3,showConfirmButton:!1})}updateCart(n){let e=this.authService.getUser().id;localStorage.setItem(`cart_user_${e}`,JSON.stringify(n))}static \u0275fac=function(e){return new(e||o)(nt(I))};static \u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"})};var Dt=(o,n)=>n.sku;function Tt(o,n){o&1&&(i(0,"p",2),r(1,"El carrito esta vac\xEDo."),t())}function It(o,n){if(o&1){let e=y();i(0,"tr",5)(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td"),r(8),t(),i(9,"td"),r(10),t(),i(11,"td",6),r(12),H(13,"currency"),t(),i(14,"td",7)(15,"input",14),_("change",function(s){let d=p(e).$implicit,h=f(2);return u(h.onQuantityChange(s,d))}),t()(),i(16,"td",6),r(17),H(18,"currency"),t(),i(19,"td",6)(20,"button",15),_("click",function(){let s=p(e).$implicit,d=f(2);return u(d.removeItemByRef(s))}),i(21,"i",16),r(22,"Eliminar"),t()()()()}if(o&2){let e=n.$implicit,a=f(2);l(2),x(a.cartItems.indexOf(e)+1),l(2),x(e.sku),l(2),x(e.name),l(2),x(e.category),l(2),x(e.capacity),l(2),x(z(13,8,e.price)),l(3),c("value",e.quantity),l(2),x(z(18,10,a.getItemTotal(e)))}}function Ot(o,n){if(o&1){let e=y();i(0,"div",3)(1,"table",4)(2,"thead",5)(3,"tr")(4,"th"),r(5,"#"),t(),i(6,"th"),r(7,"SKU"),t(),i(8,"th"),r(9,"Descripci\xF3n"),t(),i(10,"th"),r(11,"Categor\xEDa"),t(),i(12,"th"),r(13,"Almacenamiento"),t(),i(14,"th",6),r(15,"Precio Unitario"),t(),i(16,"th",7),r(17,"Cantidad"),t(),i(18,"th",6),r(19,"Total"),t(),m(20,"th"),t()(),i(21,"tbody"),q(22,It,23,12,"tr",5,Dt),t(),i(24,"tfoot")(25,"tr",8)(26,"td",9),r(27,"Total:"),t(),i(28,"td",10),r(29),H(30,"currency"),t(),m(31,"td"),t()()()(),i(32,"div",11)(33,"button",12),_("click",function(){p(e);let s=f();return u(s.goToProducts())}),r(34," Agregar m\xE1s productos "),t(),i(35,"button",13),_("click",function(){p(e);let s=f();return u(s.confirmPurchase())}),r(36," Realizar compra "),t()()}if(o&2){let e=f();l(22),L(e.cartItems),l(7),x(z(30,1,e.getCartTotal()))}}var qe=class o{constructor(n,e,a){this.cartService=n;this.router=e;this.authService=a}cartItems=[];ngOnInit(){this.cartItems=this.cartService.getCart()}getItemTotal(n){return n.price*n.quantity}getCartTotal(){return this.cartItems.reduce((n,e)=>n+this.getItemTotal(e),0)}updateQuantity(n,e){let a=Math.min(10,Math.max(1,e));n.quantity=a,this.cartService.updateCart(this.cartItems)}goToProducts(){this.router.navigate(["/productos"])}removeItemByRef(n){this.cartItems=this.cartItems.filter(e=>e!==n),this.cartService.updateCart(this.cartItems)}onQuantityChange(n,e){let a=n.target,s=parseInt(a.value,10);this.updateQuantity(e,s)}confirmPurchase(){if(this.cartItems.length===0){K.default.fire("tu carrito esta vac\xEDo","Agrega productospara poder comprar","info");return}K.default.fire({title:"\xBFConfirmar compra?",text:"Esta acci\xF3n no se puede deshacer",icon:"question",showCancelButton:!0,confirmButtonText:"S\xED, comprar",cancelButtonText:"Cancelar",confirmButtonColor:"#198754"}).then(n=>{n.isConfirmed&&this.validateShippingAndCheckout()})}validateShippingAndCheckout(){let n=this.getCartTotal();n>=1e3?K.default.fire({title:"\xBFConfirmar compra?",text:"Tu compra aplica para env\xEDo a domicilio.",icon:"question",showCancelButton:!0,confirmButtonText:"S\xED, comprar",cancelButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&this.finalizePurchase(!1)}):K.default.fire({title:"Monto insuficiente para env\xEDo",text:`El total es $${n.toFixed(2)}. Puedes recoger en tienda o agregar m\xE1s productos.`,icon:"info",showCancelButton:!0,confirmButtonText:"Recoger en tienda",cancelButtonText:"Agregar m\xE1s productos"}).then(a=>{a.isConfirmed&&this.finalizePurchase(!0)})}finalizePurchase(n=!1){let e=this.authService.getUser(),a=e.deliveryAddresses.length===0,s=e.paymentMethods.length===0;if(a||s){this.askForMissingData(a,s,n);return}this.confirmSuccess(n)}askForMissingData(n,e,a){let s=`
      ${e?'<input id="payment" class="swal2-input" placeholder="M\xE9todo de pago (ej: Visa 1234)">':""}
      ${n?'<input id="address" class="swal2-input" placeholder="Direcci\xF3n de entrega">':""}
    `;K.default.fire({title:"Completa tus datos",html:s,showCancelButton:!0,confirmButtonText:"Guardar y continuar",cancelButtonText:"Cancelar",preConfirm:()=>{let d=document.getElementById("payment")?.value.trim(),h=document.getElementById("address")?.value.trim();if(e&&!d){K.default.showValidationMessage("Debes ingresar el m\xE9todo de pago");return}if(n&&!h){K.default.showValidationMessage("Debes ingresar una direcci\xF3n de entrega");return}return{newPayment:d,newAddress:h}}}).then(d=>{if(d.isConfirmed&&d.value){let{newPayment:h,newAddress:w}=d.value;this.saveProfileData(h,w,a)}})}saveProfileData(n,e,a){let s=this.authService.getUser();if(n){s.paymentMethods=s.paymentMethods||[];let d={id:Date.now(),type:"Tarjeta",cardNumber:n,expiry:"12/30"};s.paymentMethods.push(d)}if(e){s.deliveryAddresses=s.deliveryAddresses||[];let d={id:Date.now(),alias:"Direcci\xF3n agregada",street:e,city:"Sin ciudad",zip:"0000"};s.deliveryAddresses.push(d)}this.authService.updateUser(s),this.confirmSuccess(a)}confirmSuccess(n){n?K.default.fire("Compra realizada","Puedes recoger tus productos en tienda","success"):K.default.fire("Compra realizada","Gracias por tu compra. Ser\xE1 enviada a domicilo.","success")}static \u0275fac=function(e){return new(e||o)(S(ve),S(N),S(I))};static \u0275cmp=C({type:o,selectors:[["app-shopping-cart"]],decls:5,vars:1,consts:[[1,"container","my-4"],[1,"mb-4"],[1,"text-muted"],[1,"table-responsive"],[1,"table","w-100","table-borderless","align-middle"],[1,"border-bottom"],[1,"text-end"],[1,"text-center"],[1,"border-top"],["colspan","7",1,"text-end","fw-bold"],[1,"text-end","fw-bold"],[1,"mt-4","text-end"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success","ms-2",3,"click"],["type","number","min","1","max","10",1,"form-control","form-control-sm","text-center",2,"width","70px",3,"change","value"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-x"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Carrito de Compras"),t(),g(3,Tt,2,0,"p",2)(4,Ot,37,3),t()),e&2&&(l(3),E(a.cartItems.length===0?3:4))},dependencies:[b,ae,T,le],styles:["table.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}input.form-control-sm[_ngcontent-%COMP%], button.btn-sm[_ngcontent-%COMP%]{border-radius:.375rem}"]})};function Me(o,n){let e=!n?.manualCleanup;e&&!n?.injector&&rt(Me);let a=e?n?.injector?.get(et)??G(et):null,s=At(n?.equal),d;n?.requireSync?d=Se({kind:0},{equal:s}):d=Se({kind:1,value:n?.initialValue},{equal:s});let h=o.subscribe({next:w=>d.set({kind:1,value:w}),error:w=>{if(n?.rejectErrors)throw w;d.set({kind:2,error:w})}});if(n?.requireSync&&d().kind===0)throw new Ye(601,!1);return a?.onDestroy(h.unsubscribe.bind(h)),mt(()=>{let w=d();switch(w.kind){case 1:return w.value;case 2:throw w.error;case 0:throw new Ye(601,!1)}},{equal:n?.equal})}function At(o=Object.is){return(n,e)=>n.kind===1&&e.kind===1&&o(n.value,e.value)}var Le=class o{authService=G(I);user=Me(this.authService.currentUser$);static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-profile"]],decls:2,vars:0,consts:[[1,"container","mt-4"]],template:function(e,a){e&1&&(i(0,"div",0),m(1,"router-outlet"),t())},dependencies:[Z,T,b],encapsulation:2})};var Re=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-admin-dashboard"]],decls:4,vars:0,consts:[[1,"container","mt-4"],[1,"mb-4"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Panel de administraci\xF3n"),t(),m(3,"router-outlet"),t())},dependencies:[b,Z],encapsulation:2})};var it=re(oe());function kt(o,n){o&1&&(i(0,"small",9),r(1,"\xA1Este campo es obligatorio!"),t())}function Bt(o,n){o&1&&(i(0,"small",9),r(1,"\xA1Este campo es obligatorio!"),t())}function Ft(o,n){o&1&&(i(0,"span",16),r(1,"Listo para guardar"),t())}function Nt(o,n){o&1&&(i(0,"span",9),r(1,"A\xFAn NO lo puedes guardar"),t())}var je=class o{fb=G(ge);router=G(N);auth=G(I);form=this.fb.group({username:["",P.required],password:["",P.required]});ngOnInit(){}login(){let{username:n,password:e}=this.form.value,a=this.auth.user.find(s=>s.username===n&&s.password===e);if(!a){it.default.fire({icon:"error",title:"Error",text:"Credenciales inv\xE1lidas"});return}this.auth.setUser(a),it.default.fire({icon:"success",title:"Bienvenido",text:`Hola ${a.username}`}).then(()=>{let s=localStorage.getItem("pendingProduct");if(s){let{id:d}=JSON.parse(s);this.router.navigateByUrl(`/products/${d}`);return}a.admin?this.router.navigateByUrl("/admin"):this.router.navigateByUrl("/perfil")})}onLogin(){this.login()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-login-form"]],decls:25,vars:5,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100"],[1,"container","w-50"],[1,"p-4","border","rounded","shadow","bg-light",3,"ngSubmit","formGroup"],[1,"text-center","mb-3"],[1,"usr-login"],["id","usr-login"],["for","username",1,"form-label"],["type","text","id","username","name","username","autocomplete","username","formControlName","username",1,"form-control"],[1,"error-msg"],[1,"text-danger"],[1,"psw-login","mt-2"],["id","psw-login"],["for","password",1,"form-label"],["type","password","id","password","name","password","autocomplete","current-password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100","mt-3"],[1,"text-center","mt-3"],[1,"text-success"]],template:function(e,a){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"form",2),_("ngSubmit",function(){return a.onLogin()}),i(3,"h2",3),r(4,"Iniciar Sesi\xF3n"),t(),i(5,"div",4)(6,"div",5)(7,"label",6),r(8,"Usuario"),t(),m(9,"input",7),t(),i(10,"div",8),g(11,kt,2,0,"small",9),t()(),i(12,"div",10)(13,"div",11)(14,"label",12),r(15,"Contrase\xF1a"),t(),m(16,"input",13),t(),i(17,"div",8),g(18,Bt,2,0,"small",9),t()(),i(19,"button",14),r(20,"Entrar"),t(),i(21,"div",15),r(22),g(23,Ft,2,0,"span",16)(24,Nt,2,0,"span",9),t()()()()),e&2){let s,d;l(2),c("formGroup",a.form),l(9),E((s=a.form.get("username"))!=null&&s.hasError("required")&&((s=a.form.get("username"))!=null&&s.touched)?11:-1),l(7),E((d=a.form.get("password"))!=null&&d.hasError("required")&&((d=a.form.get("password"))!=null&&d.touched)?18:-1),l(4),v(" Formulario: ",a.form.valid," "),l(),E(a.form.valid?23:24)}},dependencies:[b,fe,ee,U,V,Q,de,ce],styles:["form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-size:18px}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{margin-bottom:.5rem!important}form[_ngcontent-%COMP%]   small.text-danger[_ngcontent-%COMP%]{margin-top:2px;font-size:.8rem;line-height:1.1}.usr-login[_ngcontent-%COMP%], .psw-login[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#usr-login[_ngcontent-%COMP%], #psw-login[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:15px;width:100%}#usr-login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #psw-login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:400px}.error-msg[_ngcontent-%COMP%]{min-height:20px;margin-top:-10px;margin-bottom:4px}"]})};function Ut(o,n){o&1&&(i(0,"small",9),r(1,"\xA1Campo requerido!"),t())}function Vt(o,n){o&1&&(i(0,"small",9),r(1,"\xA1Campo requerido!"),t())}function Gt(o,n){o&1&&(i(0,"small",9),r(1,"\xA1Selecciona una opci\xF3n!"),t())}function qt(o,n){o&1&&(i(0,"small",9),r(1,"\xA1Campo requerido!"),t())}function Lt(o,n){o&1&&(i(0,"small",9),r(1,"\xA1Campo requerido!"),t())}function Rt(o,n){o&1&&(i(0,"small",9),r(1,"\xA1Campo requerido!"),t())}function jt(o,n){o&1&&(i(0,"span",37),r(1,"Listo para guardar"),t())}function Wt(o,n){o&1&&(i(0,"span",9),r(1,"A\xFAn NO lo puedes guardar"),t())}var We=class o{fb=G(ge);auth=G(I);user=this.fb.group({id:[0],name:["",[P.required]],age:[null,[P.required,P.min(1)]],gender:["",[P.required]],email:["",[P.required,P.email]],username:["",[P.required]],password:["",[P.required]],admin:[!1]});fnOnRegister(n){if(n.preventDefault(),this.user.valid){let e=this.user.getRawValue(),a={id:e.id??0,name:e.name??"",age:e.age??0,gender:e.gender??"",email:e.email??"",username:e.username??"",password:e.password??"",admin:e.admin??!1,paymentMethods:[],deliveryAddresses:[]};this.auth.addUser(a),this.user.reset()}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-register-form"]],decls:61,vars:10,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100"],[1,"container","w-50"],[1,"p-4","border","rounded","shadow","bg-light",3,"ngSubmit","formGroup"],[1,"text-center","mb-3"],[1,"name-reg"],["id","name-reg"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],[1,"error-msg"],[1,"text-danger"],[1,"age-gen-reg"],[1,"age-reg"],["id","age-reg"],["for","age",1,"form-label"],["type","number","id","age","formControlName","age",1,"form-control"],[1,"gen-reg"],["id","gen-reg"],["for","gender",1,"form-label"],["id","gender","formControlName","gender",1,"form-select"],["value","","disabled","","selected",""],["value","Masculino"],["value","Femenino"],[1,"email-reg"],["id","email-reg"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],[1,"usr-psw-reg"],[1,"usr-reg"],["id","usr-reg"],["for","username",1,"form-label"],["type","text","id","username","name","username","autocomplete","username","formControlName","username",1,"form-control"],[1,"psw-reg"],["id","psw-reg"],["for","password",1,"form-label"],["type","password","id","password","name","password","autocomplete","new-password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"text-center","mt-3"],[1,"text-success"]],template:function(e,a){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"form",2),_("ngSubmit",function(d){return a.fnOnRegister(d)}),i(3,"h2",3),r(4,"Registro de Usuario"),t(),i(5,"div",4)(6,"div",5)(7,"label",6),r(8,"Nombre completo"),t(),m(9,"input",7),t(),i(10,"div",8),g(11,Ut,2,0,"small",9),t()(),i(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),r(16,"Edad"),t(),m(17,"input",14),t(),i(18,"div",8),g(19,Vt,2,0,"small",9),t()(),i(20,"div",15)(21,"div",16)(22,"label",17),r(23,"G\xE9nero"),t(),i(24,"select",18)(25,"option",19),r(26,"Selecciona tu gnero..."),t(),i(27,"option",20),r(28,"Masculino"),t(),i(29,"option",21),r(30,"Femenino"),t()()(),i(31,"div",8),g(32,Gt,2,0,"small",9),t()()(),i(33,"div",22)(34,"div",23)(35,"label",24),r(36,"Correo electr\xF3nico"),t(),m(37,"input",25),t(),i(38,"div",8),g(39,qt,2,0,"small",9),t()(),i(40,"div",26)(41,"div",27)(42,"div",28)(43,"label",29),r(44,"Nombre de usuario"),t(),m(45,"input",30),t(),i(46,"div",8),g(47,Lt,2,0,"small",9),t()(),i(48,"div",31)(49,"div",32)(50,"label",33),r(51,"Contrase\xF1a"),t(),m(52,"input",34),t(),i(53,"div",8),g(54,Rt,2,0,"small",9),t()()(),i(55,"button",35),r(56,"Guardar"),t(),i(57,"div",36),r(58),g(59,jt,2,0,"span",37)(60,Wt,2,0,"span",9),t()()()()),e&2){let s,d,h,w,$,M;l(2),c("formGroup",a.user),l(9),E((s=a.user.get("name"))!=null&&s.hasError("required")&&((s=a.user.get("name"))!=null&&s.touched)?11:-1),l(8),E((d=a.user.get("age"))!=null&&d.hasError("required")&&((d=a.user.get("age"))!=null&&d.touched)?19:-1),l(13),E((h=a.user.get("gender"))!=null&&h.hasError("required")&&((h=a.user.get("gender"))!=null&&h.touched)?32:-1),l(7),E((w=a.user.get("email"))!=null&&w.hasError("required")&&((w=a.user.get("email"))!=null&&w.touched)?39:-1),l(8),E(($=a.user.get("username"))!=null&&$.hasError("required")&&(($=a.user.get("username"))!=null&&$.touched)?47:-1),l(7),E((M=a.user.get("password"))!=null&&M.hasError("required")&&((M=a.user.get("password"))!=null&&M.touched)?54:-1),l(),c("disabled",!a.user.valid),l(3),v(" Formulario: ",a.user.valid," "),l(),E(a.user.valid?59:60)}},dependencies:[fe,ee,pe,ue,U,W,me,V,Q,de,ce],styles:[".container[_ngcontent-%COMP%]{max-width:100%;padding:20px}form[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column;justify-content:center}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem;margin-bottom:4px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .5rem}form[_ngcontent-%COMP%]   .form-contol[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{margin-bottom:.5rem!important}form[_ngcontent-%COMP%]   small.text-danger[_ngcontent-%COMP%]{margin-top:2px;font-size:.8rem;line-height:1.1}form[_ngcontent-%COMP%]   .form-contol[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{margin-bottom:0!important}.age-gen-reg[_ngcontent-%COMP%], .usr-psw-reg[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:15px}.age-reg[_ngcontent-%COMP%], .gen-reg[_ngcontent-%COMP%], .email-reg[_ngcontent-%COMP%], .psw-reg[_ngcontent-%COMP%], .name-reg[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#name-reg[_ngcontent-%COMP%], #email-reg[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:15px}#name-reg[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #email-reg[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:400px}.error-msg[_ngcontent-%COMP%]{min-height:18px;font-size:.75rem;line-height:1.1;margin-top:4px;margin-bottom:6px}.error-msg[_ngcontent-%COMP%]:empty{visibility:hidden}"]})};var St=re(oe());function Kt(o,n){o&1&&(i(0,"small",22),r(1,"El SKU es requerido."),t())}function $t(o,n){if(o&1&&(i(0,"div"),g(1,Kt,2,0,"small",21),t()),o&2){let e,a=f(2);l(),c("ngIf",(e=a.form.get("sku"))==null?null:e.hasError("required"))}}function Jt(o,n){o&1&&(i(0,"small",22),r(1,"El nombre es requerido."),t())}function Xt(o,n){if(o&1&&(i(0,"div"),g(1,Jt,2,0,"small",21),t()),o&2){let e,a=f(2);l(),c("ngIf",(e=a.form.get("name"))==null?null:e.hasError("required"))}}function Ht(o,n){o&1&&(i(0,"small",22),r(1,"La descripci\xF3n es requerida."),t())}function zt(o,n){if(o&1&&(i(0,"div"),g(1,Ht,2,0,"small",21),t()),o&2){let e,a=f(2);l(),c("ngIf",(e=a.form.get("description"))==null?null:e.hasError("required"))}}function Zt(o,n){if(o&1&&(i(0,"option",23),r(1),t()),o&2){let e=n.$implicit;c("value",e),l(),x(e)}}function Qt(o,n){o&1&&(i(0,"small",22),r(1,"La categor\xEDa es requerida."),t())}function Yt(o,n){if(o&1&&(i(0,"div"),g(1,Qt,2,0,"small",21),t()),o&2){let e,a=f(2);l(),c("ngIf",(e=a.form.get("category"))==null?null:e.hasError("required"))}}function ei(o,n){o&1&&(i(0,"small",22),r(1,"La capacidad es requerida."),t())}function ti(o,n){if(o&1&&(i(0,"div"),g(1,ei,2,0,"small",21),t()),o&2){let e,a=f(2);l(),c("ngIf",(e=a.form.get("storageCapacity"))==null?null:e.hasError("required"))}}function ii(o,n){o&1&&(i(0,"small",22),r(1,"El precio es requerido."),t())}function ni(o,n){o&1&&(i(0,"small",22),r(1,"El precio debe ser mayor que cero."),t())}function ri(o,n){if(o&1&&(i(0,"div"),g(1,ii,2,0,"small",21)(2,ni,2,0,"small",21),t()),o&2){let e,a,s=f(2);l(),c("ngIf",(e=s.form.get("price"))==null?null:e.hasError("required")),l(),c("ngIf",(a=s.form.get("price"))==null?null:a.hasError("min"))}}function oi(o,n){o&1&&(i(0,"small",22),r(1,"El stock es requerido."),t())}function ai(o,n){o&1&&(i(0,"small",22),r(1,"El stock debe ser mayor que cero."),t())}function si(o,n){if(o&1&&(i(0,"div"),g(1,oi,2,0,"small",21)(2,ai,2,0,"small",21),t()),o&2){let e,a,s=f(2);l(),c("ngIf",(e=s.form.get("stock"))==null?null:e.hasError("required")),l(),c("ngIf",(a=s.form.get("stock"))==null?null:a.hasError("min"))}}function li(o,n){if(o&1){let e=y();i(0,"div",1)(1,"form",2),_("ngSubmit",function(){p(e);let s=f();return u(s.submit())}),i(2,"div")(3,"label",3),r(4,"SKU:"),t(),m(5,"input",4),g(6,$t,2,1,"div",5),t(),i(7,"div")(8,"label",6),r(9,"Nombre:"),t(),m(10,"input",7),g(11,Xt,2,1,"div",5),t(),i(12,"div")(13,"label",8),r(14,"Descripci\xF3n:"),t(),m(15,"textarea",9),g(16,zt,2,1,"div",5),t(),i(17,"div")(18,"label",10),r(19,"Categor\xEDa:"),t(),i(20,"select",11),g(21,Zt,2,2,"option",12),t(),g(22,Yt,2,1,"div",5),t(),i(23,"div")(24,"label",13),r(25,"Capacidad de almacenamiento:"),t(),m(26,"input",14),g(27,ti,2,1,"div",5),t(),i(28,"div")(29,"label",15),r(30,"Precio:"),t(),m(31,"input",16),g(32,ri,3,2,"div",5),t(),i(33,"div")(34,"label",17),r(35,"Stock:"),t(),m(36,"input",18),g(37,si,3,2,"div",5),t(),i(38,"button",19),r(39,"Agregar Producto"),t(),i(40,"button",20),_("click",function(){p(e);let s=f();return u(s.closeForm())}),r(41,"Cerrar"),t()()()}if(o&2){let e,a,s,d,h,w,$,M=f();l(),c("formGroup",M.form),l(5),c("ngIf",((e=M.form.get("sku"))==null?null:e.invalid)&&((e=M.form.get("sku"))==null?null:e.touched)),l(5),c("ngIf",((a=M.form.get("name"))==null?null:a.invalid)&&((a=M.form.get("name"))==null?null:a.touched)),l(5),c("ngIf",((s=M.form.get("description"))==null?null:s.invalid)&&((s=M.form.get("description"))==null?null:s.touched)),l(5),c("ngForOf",M.productCategories),l(),c("ngIf",((d=M.form.get("category"))==null?null:d.invalid)&&((d=M.form.get("category"))==null?null:d.touched)),l(5),c("ngIf",((h=M.form.get("storageCapacity"))==null?null:h.invalid)&&((h=M.form.get("storageCapacity"))==null?null:h.touched)),l(5),c("ngIf",((w=M.form.get("price"))==null?null:w.invalid)&&((w=M.form.get("price"))==null?null:w.touched)),l(5),c("ngIf",(($=M.form.get("stock"))==null?null:$.invalid)&&(($=M.form.get("stock"))==null?null:$.touched)),l(),c("disabled",M.form.invalid)}}var Ke=class o{constructor(n){this.fb=n}visible=!1;productCategories=this.getProductCategories();form;ngOnInit(){this.form=this.fb.group({sku:["",P.required],name:["",P.required],description:["",P.required],category:["",P.required],storageCapacity:["",P.required],price:[null,[P.required,P.min(0)]],stock:[null,[P.required,P.min(1)]]})}closeForm(){this.form.reset()}submit(){if(this.form.invalid)return;let n=this.form.value;console.log("Producto a agregar:",n),this.form.reset()}getProductCategories(){return Object.values(_e).filter(n=>typeof n=="string")}static \u0275fac=function(e){return new(e||o)(S(ge))};static \u0275cmp=C({type:o,selectors:[["app-add-products"]],inputs:{visible:"visible"},decls:1,vars:1,consts:[["class","add-product-form",4,"ngIf"],[1,"add-product-form"],[3,"ngSubmit","formGroup"],["for","sku"],["id","sku","formControlName","sku"],[4,"ngIf"],["for","name"],["id","name","formControlName","name"],["for","description"],["id","description","formControlName","description"],["for","category"],["id","category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["for","storageCapacity"],["id","storageCapacity","formControlName","storageCapacity"],["for","price"],["id","price","type","number","formControlName","price"],["for","stock"],["id","stock","type","number","formControlName","stock"],["type","submit",3,"disabled"],["type","button",3,"click"],["class","error-text",4,"ngIf"],[1,"error-text"],[3,"value"]],template:function(e,a){e&1&&g(0,li,42,10,"div",0),e&2&&c("ngIf",a.visible)},dependencies:[fe,ee,pe,ue,U,W,me,V,Q,de,ce,b,Fe,R],styles:[".add-product-form[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;box-shadow:0 4px 6px #0000001a}form[_ngcontent-%COMP%]{display:grid;gap:15px}label[_ngcontent-%COMP%]{font-weight:700}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6}.error-text[_ngcontent-%COMP%]{color:red;font-size:.8em}"]})};function di(o,n){if(o&1){let e=y();i(0,"tr")(1,"td"),r(2),t(),i(3,"td")(4,"input",8),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.name,s)||(d.name=s),u(s)}),t()(),i(5,"td")(6,"input",8),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.description,s)||(d.description=s),u(s)}),t()(),i(7,"td")(8,"input",9),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.price,s)||(d.price=s),u(s)}),t()(),i(9,"td")(10,"input",8),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.category,s)||(d.category=s),u(s)}),t()(),i(11,"td")(12,"button",10),_("click",function(){let s=p(e).$implicit,d=f(2);return u(d.onDelete(s.id))}),r(13," Eliminar "),t(),i(14,"button",11),_("click",function(){let s=p(e).$implicit,d=f(2);return u(d.saveProduct(s))}),r(15," Guardar "),t()()()}if(o&2){let e=n.$implicit,a=f(2);l(2),x(e.id),l(2),O("ngModel",e.name),l(2),O("ngModel",e.description),l(2),O("ngModel",e.price),l(2),O("ngModel",e.category),l(4),c("disabled",!a.hasChanges(e))}}function ci(o,n){if(o&1&&(i(0,"table",2)(1,"thead",7)(2,"tr")(3,"th"),r(4,"ID"),t(),i(5,"th"),r(6,"Nombre"),t(),i(7,"th"),r(8,"Descripci\xF3n"),t(),i(9,"th"),r(10,"Precio"),t(),i(11,"th"),r(12,"Categor\xEDa"),t(),i(13,"th"),r(14,"Acciones"),t()()(),i(15,"tbody"),q(16,di,16,6,"tr",null,X),t()()),o&2){let e=f();l(16),L(e.productsToEdit)}}function mi(o,n){o&1&&(i(0,"div",3),r(1," No hay productos registrados. "),t())}function pi(o,n){o&1&&(i(0,"div")(1,"div",12),m(2,"app-add-products",13),t()()),o&2&&(l(2),c("visible",!0))}var $e=class o{constructor(n){this.productsService=n}products;productsToEdit=[];originalProducts=[];isAddFormVisible=Se(!1);ngOnInit(){this.loadProducts()}loadProducts(){this.products=this.productsService.getAllProducts(),this.productsToEdit=JSON.parse(JSON.stringify(this.products)),this.originalProducts=JSON.parse(JSON.stringify(this.products))}hasChanges(n){let e=this.products.find(a=>a.id===n.id);return JSON.stringify(n)!==JSON.stringify(e)}saveProduct(n){this.productsService.updateProduct(n),this.products=this.productsService.getAllProducts(),this.productsToEdit=[...this.products]}deleteProduct(n){St.default.fire({title:"\xBFEst\xE1s seguro?",text:"Esta acci\xF3n eliminar\xE1 el producto de forma permanente.",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(this.productsService.deleteProduct(n),this.loadProducts())})}onDelete(n){this.productsService.deleteProduct(n),this.products=this.productsService.getAllProducts(),this.productsToEdit=[...this.products]}onEdit(n){this.productsService.getProductByID(n)}onToggleAddProductForm(){console.log("Antes de cambiar:",this.isFormVisible),this.isAddFormVisible.set(!this.isAddFormVisible()),console.log("Despu\xE9s de cambiar:",this.isFormVisible)}get isFormVisible(){return this.isAddFormVisible()}trackProduct(n,e){return e.id}static \u0275fac=function(e){return new(e||o)(S(j))};static \u0275cmp=C({type:o,selectors:[["app-product-list"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"text-center","mb-3"],[1,"table","table-bordered","table-striped"],[1,"alert","alert-info","text-center"],[1,"text-center","mt-4"],[1,"btn","btn-outline-primary",3,"click"],[4,"ngIf"],[1,"table-dark"],[1,"form-control",3,"ngModelChange","ngModel"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-sm","btn-danger","me-2",3,"click"],[1,"btn","btn-sm","btn-success",3,"click","disabled"],[1,"floating-form"],[3,"visible"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Gesti\xF3n de Productos"),t(),g(3,ci,18,0,"table",2)(4,mi,2,0,"div",3),t(),i(5,"div",4)(6,"button",5),_("click",function(){return a.onToggleAddProductForm()}),r(7," + Agregar nuevo producto "),t()(),g(8,pi,3,1,"div",6)),e&2&&(l(3),E(a.productsToEdit.length>0?3:4),l(5),c("ngIf",a.isFormVisible))},dependencies:[le,T,U,W,V,Y,b,R,Ke],encapsulation:2})};var Ee=re(oe());function ui(o,n){o&1&&(i(0,"span",14),r(1,"Admin"),t())}function gi(o,n){o&1&&(i(0,"span",15),r(1,"Usuario"),t())}function fi(o,n){if(o&1){let e=y();i(0,"button",20),_("click",function(){p(e);let s=f().$implicit,d=f(2);return u(d.makeAdmin(s))}),r(1," Hacer Admin "),t()}}function _i(o,n){if(o&1){let e=y();i(0,"button",21),_("click",function(){p(e);let s=f().$implicit,d=f(2);return u(d.removeAdmin(s))}),r(1," Quitar Admin "),t()}}function vi(o,n){if(o&1){let e=y();i(0,"tr")(1,"td")(2,"input",5),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.id,s)||(d.id=s),u(s)}),t()(),i(3,"td")(4,"input",6),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.name,s)||(d.name=s),u(s)}),t()(),i(5,"td")(6,"input",7),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.age,s)||(d.age=s),u(s)}),t()(),i(7,"td")(8,"select",8),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.gender,s)||(d.gender=s),u(s)}),i(9,"option",9),r(10,"Masculino"),t(),i(11,"option",10),r(12,"Femenino"),t()()(),i(13,"td")(14,"input",11),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.email,s)||(d.email=s),u(s)}),t()(),i(15,"td")(16,"input",12),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.username,s)||(d.username=s),u(s)}),t()(),i(17,"td")(18,"input",13),k("ngModelChange",function(s){let d=p(e).$implicit;return A(d.password,s)||(d.password=s),u(s)}),t()(),i(19,"td"),g(20,ui,2,0,"span",14)(21,gi,2,0,"span",15),t(),i(22,"td")(23,"button",16),_("click",function(){let s=p(e).$implicit,d=f(2);return u(d.deleteUser(s.id))}),r(24," Eliminar "),t(),g(25,fi,2,0,"button",17)(26,_i,2,0,"button",18),t(),i(27,"td")(28,"button",19),_("click",function(){let s=p(e).$implicit,d=f(2);return u(d.saveUser(s))}),r(29," Guardar"),t()()()}if(o&2){let e=n.$implicit,a=f(2);l(2),J("id","id-",e.id,""),O("ngModel",e.id),l(2),J("id","name-",e.id,""),O("ngModel",e.name),l(2),J("id","age-",e.id,""),O("ngModel",e.age),l(2),J("id","gender-",e.id,""),J("name","gender-",e.id,""),O("ngModel",e.gender),l(6),J("id","email-",e.id,""),O("ngModel",e.email),l(2),J("id","username-",e.id,""),O("ngModel",e.username),l(2),J("id","password-",e.id,""),O("ngModel",e.password),l(2),E(e.admin?20:21),l(5),E(e.admin?26:25),l(3),c("disabled",!a.hasChanges(e))}}function Ci(o,n){if(o&1&&(i(0,"table",2)(1,"thead",4)(2,"tr")(3,"th"),r(4,"ID"),t(),i(5,"th"),r(6,"Nombre"),t(),i(7,"th"),r(8,"Edad"),t(),i(9,"th"),r(10,"G\xE9nero"),t(),i(11,"th"),r(12,"Email"),t(),i(13,"th"),r(14,"Usuario"),t(),i(15,"th"),r(16,"Contrase\xF1a"),t(),i(17,"th"),r(18,"Rol"),t(),i(19,"th"),r(20,"Asignaci\xF3n de Rol"),t(),i(21,"th"),r(22,"Guardar"),t()()(),i(23,"tbody"),q(24,vi,30,26,"tr",null,X),t()()),o&2){let e=f();l(24),L(e.users)}}function Si(o,n){o&1&&(i(0,"div",3),r(1," No hay usuarios registrados a\xFAn. "),t())}var Je=class o{onRegister=new Ie;singleUserMode=!1;userData;users=[];originalUsers=[];authService=G(I);currentUser=Me(this.authService.currentUser$);ngOnInit(){this.singleUserMode&&this.userData?(this.users=[this.userData],this.originalUsers=[JSON.parse(JSON.stringify(this.userData))]):this.loadUsers()}loadUsers(){this.users=this.authService.user,this.originalUsers=JSON.parse(JSON.stringify(this.users))}hasChanges(n){let e=this.originalUsers.find(a=>a.id===n.id);return JSON.stringify(n)!==JSON.stringify(e)}deleteUser(n){Ee.default.fire({title:"\xBFEstas seguro?",text:"Esta accion eliminara el usuario de manera permanente",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(this.users=this.users.filter(a=>a.id!==n),this.authService.user=this.users,Ee.default.fire({text:"Usuario eliminado correctamente",icon:"success",color:this.authService.colorText,background:this.authService.colorBg}))})}makeAdmin(n){n.admin=!0,this.authService.user=[...this.users],Ee.default.fire({text:"El usuario ahora es administrador",icon:"success",color:this.authService.colorText,background:this.authService.colorBg})}removeAdmin(n){n.admin=!1,this.authService.user=[...this.users],Ee.default.fire({text:"Rol de administrador removido",icon:"info",color:this.authService.colorText,background:this.authService.colorBg})}saveUser(n){this.authService.updateUser(n)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-user-management"]],inputs:{singleUserMode:"singleUserMode",userData:"userData"},outputs:{onRegister:"onRegister"},decls:5,vars:1,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"table","table-bordered","table-striped"],[1,"alert","alert-info","text-center"],[1,"table-dark"],["type","number","name","id",3,"ngModelChange","id","ngModel"],["type","text","name","name","autocomplete","name",3,"ngModelChange","id","ngModel"],["type","number","name","age",3,"ngModelChange","id","ngModel"],[3,"ngModelChange","id","ngModel","name"],["value","Masculino"],["value","Femenino"],["type","email","name","email","autocomplete","email",3,"ngModelChange","id","ngModel"],["type","text","name","username","autocomplete","username",3,"ngModelChange","id","ngModel"],["type","password","name","password","autocomplete","current-password",3,"ngModelChange","id","ngModel"],[1,"badge","bg-success"],[1,"badge","bg-secondary"],[1,"btn","btn-sm","btn-danger","me-2",3,"click"],[1,"btn","btn-sm","btn-primary"],[1,"btn","btn-sm","btn-warning"],[3,"click","disabled"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-warning",3,"click"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Gesti\xF3n de Usuarios"),t(),g(3,Ci,26,0,"table",2)(4,Si,2,0,"div",3),t()),e&2&&(l(3),E(a.users.length>0?3:4))},dependencies:[b,T,pe,ue,U,W,me,V,Y],styles:[".container[_ngcontent-%COMP%]{margin:0;padding:0;width:100vw;height:100vh;overflow-y:auto}.table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}.table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{max-width:100%;font-size:.9rem}input[name=id][_ngcontent-%COMP%], input[name=age][_ngcontent-%COMP%]{width:60px;font-size:.85rem}input[name=name][_ngcontent-%COMP%], input[name=username][_ngcontent-%COMP%], input[name=email][_ngcontent-%COMP%]{width:180px;font-size:.8rem}.table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap;font-size:.85rem;padding:.25rem .5rem}"]})};function hi(o,n){if(o&1){let e=y();i(0,"div",5)(1,"div",6),_("click",function(){let s=p(e).$implicit,d=f(2);return u(d.viewDetails(s.id))}),i(2,"div",7)(3,"h5",8)(4,"strong"),r(5),t()(),i(6,"p",9),r(7),t(),i(8,"p",9)(9,"strong"),r(10,"Precio:"),t(),r(11),H(12,"currency"),t(),i(13,"p",9)(14,"strong"),r(15,"Categor\xEDa:"),t(),r(16),t()()()()}if(o&2){let e=n.$implicit;l(5),x(e.name),l(2),x(e.description),l(4),v(" ",z(12,4,e.price)," "),l(5),v(" ",e.category," ")}}function bi(o,n){if(o&1&&(i(0,"div",4),q(1,hi,17,6,"div",5,X),t()),o&2){let e=f();l(),L(e.filteredProducts)}}function xi(o,n){o&1&&(i(0,"div",10),r(1," No hay productos disponibles en esta categor\xEDa. "),t())}var Pe=class o{constructor(n,e){this.route=n;this.router=e}products=Ne;filteredProducts=[];selectedCategory="";ngOnInit(){this.route.paramMap.subscribe(n=>{let e=n.get("category")||"",a=_e[e];a?(this.selectedCategory=a,this.filteredProducts=this.products.filter(s=>s.category===a)):(this.selectedCategory="",this.filteredProducts=[])})}viewDetails(n){this.router.navigate([`productos/${n}`])}static \u0275fac=function(e){return new(e||o)(S(se),S(N))};static \u0275cmp=C({type:o,selectors:[["app-aside"]],decls:6,vars:3,consts:[["noProducts",""],[1,"container","mt-4"],[1,"text-center","mb-4"],["class","row",4,"ngIf","ngIfElse"],[1,"row"],[1,"col-md-4","mb-4"],[1,"card","h-100","shadow",2,"cursor","pointer",3,"click"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"alert","alert-info","text-center"]],template:function(e,a){if(e&1&&(i(0,"div",1)(1,"h2",2),r(2),t(),g(3,bi,3,0,"div",3)(4,xi,2,0,"ng-template",null,0,ke),t()),e&2){let s=Ae(5);l(2),v("Productos en la categor\xEDa: ",a.selectedCategory,""),l(),c("ngIf",a.filteredProducts.length>0)("ngIfElse",s)}},dependencies:[T,b,R,ae],encapsulation:2})};var Xe=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-admin"]],decls:3,vars:0,consts:[[1,"container"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2"),r(2,"Bienvenido Administrador"),t()())},encapsulation:2})};var yi=(o,n)=>n.id;function Mi(o,n){o&1&&r(0," Quitar oferta ")}function Ei(o,n){o&1&&r(0," Poner en oferta ")}function Pi(o,n){if(o&1){let e=y();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"h5",5),r(4),t(),i(5,"p",6)(6,"strong"),r(7,"SKU:"),t(),r(8),m(9,"br"),i(10,"strong"),r(11,"Categor\xEDa:"),t(),r(12),m(13,"br"),i(14,"strong"),r(15,"Precio:"),t(),r(16),m(17,"br"),i(18,"strong"),r(19,"Stock:"),t(),r(20),t(),i(21,"button",7),_("click",function(){let s=p(e).$implicit,d=f();return u(d.toggleOffer(s))}),g(22,Mi,1,0)(23,Ei,1,0),t()()()()}if(o&2){let e=n.$implicit;l(4),x(e.name),l(4),v(" ",e.sku,""),l(4),v(" ",e.category,""),l(4),v(" $",e.price,""),l(4),v(" ",e.quantity," unidades "),l(),c("ngClass",e.isOffer?"btn-outline-danger":"btn-outline-success"),l(),E(e.isOffer?22:23)}}var He=class o{constructor(n){this.productsService=n}productsWithOffer=[];ngOnInit(){let n=this.productsService.getAllProducts(),e=JSON.parse(localStorage.getItem("offers")||"[]");this.productsWithOffer=n.map(a=>{let s=e.find(d=>d.sku===a.sku);return ne(ie({},a),{isOffer:s?s.isOffer:!1})})}toggleOffer(n){n.isOffer=!n.isOffer,console.log(`${n.name} ahora ${n.isOffer?"est\xE1":"no est\xE1"} en oferta`),this.saveOffers()}saveOffers(){let n=this.productsWithOffer.filter(e=>e.isOffer).map(e=>({sku:e.sku,isOffer:e.isOffer}));localStorage.setItem("offers",JSON.stringify(n))}static \u0275fac=function(e){return new(e||o)(S(j))};static \u0275cmp=C({type:o,selectors:[["app-offers"]],decls:4,vars:0,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-md-4","mb-4"],[1,"card","h-100","shadow-sm","border-@if","(product.isOffer)","{success}","@else","{secondary}"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn",3,"click","ngClass"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1),q(2,Pi,24,7,"div",2,yi),t()()),e&2&&(l(2),L(a.productsWithOffer))},dependencies:[b,Be,T],encapsulation:2})};var we=re(oe());var De=class o{constructor(n,e,a,s,d){this.route=n;this.productsService=e;this.authService=a;this.cartService=s;this.router=d}product;quantity=1;ngOnInit(){let n=Number(this.route.snapshot.paramMap.get("id")),e=this.productsService.getProductByID(n);e&&(this.product=e);let a=localStorage.getItem("pendingProduct");if(a){let{id:s,quantity:d}=JSON.parse(a);s===this.product.id&&(this.quantity=d,this.addToCart(!0),localStorage.removeItem("pendingProduct"))}}getMaxQuantity(){return Math.min(10,this.product.quantity)}getTotalPrice(){return this.product.price*this.quantity}addToCart(n=!1){if(!this.authService.isLoggedIn()){we.default.fire({icon:"warning",title:"Necesitas iniciar sesi\xF3n",text:"Inicia sesi\xF3n para agregar productos al carrito.",confirmButtonText:"Iniciar sesi\xF3n",showCancelButton:!0}).then(e=>{e.isConfirmed&&(localStorage.setItem("pendingProduct",JSON.stringify({id:this.product.id,quantity:this.quantity})),this.router.navigate(["/login"]).then(()=>{we.default.fire({icon:"info",title:"\xA1Listo!",text:`${this.product.name} x${this.quantity} fue enviado al carrito.`})}))});return}if(this.quantity>this.product.quantity){we.default.fire({icon:"error",title:"inventario insuficiente",text:`Solo hay ${this.product.quantity} unidades disponibles.`});return}this.cartService.addToCart(this.product,this.quantity),n||we.default.fire({icon:"success",title:"Producto agregado",text:`${this.product.name} x${this.quantity} fue agregado al carrito.`})}static \u0275fac=function(e){return new(e||o)(S(se),S(j),S(I),S(ve),S(N))};static \u0275cmp=C({type:o,selectors:[["app-product-detail"]],decls:64,vars:19,consts:[[1,"container","my-4"],[1,"card"],[1,"row","g-0"],[1,"col-md-4"],[1,"img-fluid","rounded-start",3,"src","alt"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[3,"ngClass"],[1,"card-text","fs-5"],[1,"mb-3","mt-3"],["for","quantity",1,"form-label"],["type","number","id","quantity",1,"form-control",3,"ngModelChange","ngModel","min","max"],[1,"btn","btn-primary","w-100",3,"click"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m(4,"img",4),t(),i(5,"div",5)(6,"div",6)(7,"h3",7),r(8),t(),i(9,"p",8)(10,"strong"),r(11,"Marca:"),t(),r(12),t(),i(13,"p",8)(14,"strong"),r(15,"Modelo:"),t(),r(16),t(),i(17,"p",8)(18,"strong"),r(19,"Categor\xEDa:"),t(),r(20),t(),i(21,"p",8)(22,"strong"),r(23,"Capacidad:"),t(),r(24),t(),i(25,"p",8)(26,"strong"),r(27,"Velocidad:"),t(),r(28),t(),i(29,"p",8)(30,"strong"),r(31,"SKU:"),t(),r(32),t(),i(33,"p",8)(34,"strong"),r(35,"Descripci\xF3n:"),t(),r(36),t(),i(37,"p",8)(38,"strong"),r(39,"Disponible:"),t(),i(40,"span",9),r(41),t()(),i(42,"p",8)(43,"strong"),r(44,"En inventario:"),t(),r(45),t(),i(46,"p",8)(47,"strong"),r(48,"Entrega:"),t(),r(49),t(),i(50,"p",10)(51,"strong"),r(52,"Precio unitario:"),t(),r(53),t(),i(54,"div",11)(55,"label",12),r(56,"Cantidad:"),t(),i(57,"input",13),k("ngModelChange",function(d){return A(a.quantity,d)||(a.quantity=d),d}),t()(),i(58,"p",10)(59,"strong"),r(60,"Total:"),t(),r(61),t(),i(62,"button",14),_("click",function(){return a.addToCart()}),r(63," Agregar al carrito "),t()()()()()()),e&2&&(l(4),Oe("alt",a.product.name),c("src",a.product.image,ot),l(4),x(a.product.name),l(4),v(" ",a.product.brand,""),l(4),v(" ",a.product.model,""),l(4),v(" ",a.product.category,""),l(4),v(" ",a.product.capacity,""),l(4),v(" ",a.product.speed,""),l(4),v(" ",a.product.sku,""),l(4),v(" ",a.product.description,""),l(4),c("ngClass",a.product.available?"text-success":"text-danger"),l(),v(" ",a.product.available?"S\xED":"No"," "),l(4),v(" ",a.product.quantity,""),l(4),v(" ",a.product.deliveryOption,""),l(4),v(" $",a.product.price,""),l(4),O("ngModel",a.quantity),c("min",1)("max",a.getMaxQuantity()),l(4),v(" $",a.getTotalPrice(),""))},dependencies:[b,Be,T,U,W,V,vt,_t,Y,le],encapsulation:2})};var ht=[{path:"",component:ye,title:"Inicio"},{path:"inicio",component:ye,title:"Inicio"},{path:"productos",component:be,title:"Inventario disponible"},{path:"productos/:id",component:De,title:"Detalle del producto"},{path:"categoria/:category",component:Pe,title:"Categor\xEDa de producto"},{path:"auth",component:Ve,children:[{path:"login",component:je,title:"Iniciar sesi\xF3n"},{path:"register",component:We,title:"Registrarse"}]},{path:"perfil",component:Le,title:"Perfil de usuario",children:[{path:"carrito",component:qe,title:"Carrito de compras"},{path:"editar",loadComponent:()=>import("./chunk-2W2TJLL6.js").then(o=>o.EditProfileComponent),title:"Editar perfil"},{path:"pagos",loadComponent:()=>import("./chunk-5ODUQZTC.js").then(o=>o.PaymentMethodsComponent),title:"M\xE9todos de pago"},{path:"direcciones",loadComponent:()=>import("./chunk-ZKBWPLIZ.js").then(o=>o.AddressManagementComponent),title:"Direcciones de entrega"}]},{path:"admin",component:Xe,title:"Administrador"},{path:"admin-dashboard",component:Re,title:"Panel de administraci\xF3n",children:[{path:"inventory",component:$e,title:"Inventario"},{path:"offers",component:He,title:"Ofertas"},{path:"usersAdmin",component:Je,title:"Usuarios"}]},{path:"Products",component:be,title:"Detalle de prducto",children:[{path:"Details",component:De,title:"Detalles"}]},{path:"categoria/:category",component:Pe,title:"Productos por categoria"},{path:"**",redirectTo:"",pathMatch:"full"}];var bt={providers:[ct({eventCoalescing:!0}),gt(ht)]};var wi=["navbarToggleExternalContent"],Di=()=>["/inicio"],Ti=()=>["/productos"],Ii=()=>["/categoria","HDD"],Oi=()=>["/categoria","SSD_SATA"],Ai=()=>["/categoria","SSD_M2"],ki=()=>["/categoria","MicroSD"],Bi=()=>["/categoria","SD"],Fi=()=>["/categoria","USB"],Ni=()=>["/auth/login"],Ui=()=>["/auth/register"],Vi=()=>["/perfil/editar"],Gi=()=>["/perfil/carrito"],qi=()=>["/admin-dashboard/inventory"],Li=()=>["/admin-dashboard/offers"],Ri=()=>["/admin-dashboard/usersAdmin"];function ji(o,n){o&1&&(i(0,"li",10)(1,"a",11),r(2," Ingresar "),t(),i(3,"ul",12)(4,"li")(5,"a",26),r(6,"Iniciar sesi\xF3n"),t()(),i(7,"li"),m(8,"hr",27),t(),i(9,"li")(10,"a",26),r(11,"Registro"),t()()()()),o&2&&(l(5),c("routerLink",F(2,Ni)),l(5),c("routerLink",F(3,Ui)))}function Wi(o,n){if(o&1){let e=y();i(0,"li",10)(1,"a",11),r(2),t(),i(3,"ul",12)(4,"li")(5,"a",26),r(6,"Perfil"),t()(),i(7,"li")(8,"a",26),r(9,"Carrito"),t()(),i(10,"li")(11,"a",13),_("click",function(){p(e);let s=f();return u(s.logout())}),r(12,"Cerrar sesi\xF3n"),t()()()()}if(o&2){let e=f();l(2),v(" ",e.currentUser.username," "),l(3),c("routerLink",F(3,Vi)),l(3),c("routerLink",F(4,Gi))}}function Ki(o,n){if(o&1){let e=y();i(0,"li",10)(1,"a",11),r(2),t(),i(3,"ul",12)(4,"li")(5,"a",26),r(6,"Gesti\xF3n de Inventarios"),t()(),i(7,"li")(8,"a",26),r(9,"Gesti\xF3n de Ofertas"),t()(),i(10,"li")(11,"a",26),r(12,"Gesti\xF3n de Usuarios"),t()(),i(13,"li")(14,"a",13),_("click",function(){p(e);let s=f();return u(s.logout())}),r(15,"Cerrar sesi\xF3n"),t()()()()}if(o&2){let e=f();l(2),v(" Administrador - ",e.currentUser.username," "),l(3),c("routerLink",F(4,qi)),l(3),c("routerLink",F(5,Li)),l(3),c("routerLink",F(6,Ri))}}var ze=class o{constructor(n,e){this.authService=n;this.router=e}searchTermChange=new Ie;searchTerm="";currentUser={id:0,name:"",age:0,gender:"",email:"",username:"Invitado",password:"",admin:!1,paymentMethods:[],deliveryAddresses:[]};userType="guest";isDarkMode=!1;subscriptions=[];ngOnInit(){this.subscriptions.push(this.authService.userType$.subscribe(e=>{this.userType=e}),this.authService.currentUser$.subscribe(e=>{this.currentUser=ne(ie({},e),{paymentMethods:e.paymentMethods??[],deliveryAddresses:e.deliveryAddresses??[]})})),localStorage.getItem("mode")==="dark"?(document.body.classList.add("dark-mode"),this.isDarkMode=!0):(document.body.classList.add("clear-mode"),this.isDarkMode=!1)}toggleMode(){let n=document.body;this.isDarkMode?(n.classList.remove("dark-mode"),n.classList.add("clear-mode"),localStorage.setItem("mode","clear"),this.isDarkMode=!1):(n.classList.remove("clear-mode"),n.classList.add("dark-mode"),localStorage.setItem("mode","dark"),this.isDarkMode=!0)}logout(){this.authService.logout(),this.currentUser={id:0,name:"",age:0,gender:"",email:"",username:"Invitado",password:"",admin:!1,paymentMethods:[],deliveryAddresses:[]},this.userType="guest",this.router.navigate(["/auth/login"])}get role(){return this.userType}onSearch(){this.searchTerm.trim()&&this.router.navigate(["/productos"],{queryParams:{search:this.searchTerm}})}onBlurSearch(){this.searchTerm.trim()===""&&(this.searchTermChange.emit(""),this.router.navigate(["/productos"]))}sidebar;closeSidebar(){this.sidebar.nativeElement.classList.remove("show")}static \u0275fac=function(e){return new(e||o)(S(I),S(N))};static \u0275cmp=C({type:o,selectors:[["app-navbar"]],viewQuery:function(e,a){if(e&1&&st(wi,5),e&2){let s;lt(s=dt())&&(a.sidebar=s.first)}},outputs:{searchTermChange:"searchTermChange"},decls:63,vars:20,consts:[["navbarToggleExternalContent",""],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-link","active",3,"routerLink"],[1,"nav-item","dropdown"],["role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["class","nav-item dropdown",4,"ngIf"],["aria-disabled","true",1,"nav-link","disabled"],["role","search",1,"d-flex",3,"ngSubmit"],["type","search","name","searchTerm","placeholder","Buscar productos...",1,"form-control","me-2",3,"ngModelChange","keydown.enter","blur","ngModel"],["type","submit",1,"btn","btn-outline-success","me-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarToggleExternalContent","aria-controls","navbarToggleExternalContent","aria-expanded","false","aria-label","Toggle sidebar",1,"btn","btn-outline-secondary"],["id","navbarToggleExternalContent","data-bs-theme","dark",1,"collapse","collapse-left"],[1,"p-4","text-white"],[1,"h4"],[3,"click"],[1,"bg-light"],[3,"click","routerLink"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"]],template:function(e,a){if(e&1){let s=y();i(0,"nav",1)(1,"div",2)(2,"a",3),r(3,"FullStorage"),t(),i(4,"button",4),m(5,"span",5),t(),i(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),r(10,"Inicio"),t()(),i(11,"li",8)(12,"a",9),r(13,"Productos"),t()(),i(14,"li",10)(15,"a",11),r(16," Settings "),t(),i(17,"ul",12)(18,"li")(19,"a",13),_("click",function(){return p(s),u(!a.isDarkMode&&a.toggleMode())}),r(20," Modo Oscuro "),t()(),i(21,"li")(22,"a",13),_("click",function(){return p(s),u(a.isDarkMode&&a.toggleMode())}),r(23," Modo Claro "),t()()()(),g(24,ji,12,4,"li",14)(25,Wi,13,5,"li",14)(26,Ki,16,7,"li",14),i(27,"li",8),m(28,"a",15),t()(),i(29,"form",16),_("ngSubmit",function(){return p(s),u(a.onSearch())}),i(30,"input",17),k("ngModelChange",function(h){return p(s),A(a.searchTerm,h)||(a.searchTerm=h),u(h)}),_("keydown.enter",function(){return p(s),u(a.onSearch())})("blur",function(){return p(s),u(a.onBlurSearch())}),t(),i(31,"button",18),r(32,"Buscar"),t()(),i(33,"button",19),m(34,"span",5),t()()()(),i(35,"div",20,0)(37,"div",21)(38,"div")(39,"h5",22),r(40,"Dispositivos de Almacenamiento"),t(),i(41,"button",23),_("click",function(){return p(s),u(a.closeSidebar())}),r(42,"X"),t()(),m(43,"hr",24),i(44,"ul")(45,"li")(46,"a",25),_("click",function(){return p(s),u(a.closeSidebar())}),r(47,"Discos Duros Mec\xE1nicos (HDD)"),t()(),i(48,"li")(49,"a",25),_("click",function(){return p(s),u(a.closeSidebar())}),r(50,"SSD SATA"),t()(),i(51,"li")(52,"a",25),_("click",function(){return p(s),u(a.closeSidebar())}),r(53,"SSD M.2 NVMe"),t()(),i(54,"li")(55,"a",25),_("click",function(){return p(s),u(a.closeSidebar())}),r(56,"MicroSD"),t()(),i(57,"li")(58,"a",25),_("click",function(){return p(s),u(a.closeSidebar())}),r(59,"Tarjetas SD"),t()(),i(60,"li")(61,"a",25),_("click",function(){return p(s),u(a.closeSidebar())}),r(62,"Memorias USB"),t()()()()()}e&2&&(l(9),c("routerLink",F(12,Di)),l(3),c("routerLink",F(13,Ti)),l(12),c("ngIf",a.role==="guest"),l(),c("ngIf",a.role==="user"),l(),c("ngIf",a.role==="admin"),l(4),O("ngModel",a.searchTerm),l(16),c("routerLink",F(14,Ii)),l(3),c("routerLink",F(15,Oi)),l(3),c("routerLink",F(16,Ai)),l(3),c("routerLink",F(17,ki)),l(3),c("routerLink",F(18,Bi)),l(3),c("routerLink",F(19,Fi)))},dependencies:[b,R,ut,T,ee,U,V,Q,Y,ft],styles:[".collapse-left[_ngcontent-%COMP%]{position:fixed;top:56px;left:0;width:250px;height:100%;background-color:#343a40;z-index:1050;transition:transform .3s ease-in-out;transform:translate(-100%)}.collapse.show.collapse-left[_ngcontent-%COMP%]{transform:translate(0)}"]})};var Ze=class o{footerDate=new Date().getFullYear();static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-footer"]],decls:62,vars:1,consts:[[1,"footer"],[1,"up-footer"],[1,"up-us-left"],[1,"up-privacy-center"],["href","/privacy-policy"],["href","/terms-of-service"],["href","/cookies-policy"],["href","/faq"],["href","/sitemap"],[1,"up-contact-rigth"],["href",""],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-clock"],[1,"down-footer"],[1,"down-socials"],["id","socials-list"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-whatsapp"],[1,"fa-brands","fa-instagram"],[1,"down-text"]],template:function(e,a){e&1&&(i(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),r(4,"FullStorage"),t(),i(5,"ul")(6,"li"),r(7,"Tu aliado digital en cada byte"),t()()(),i(8,"div",3)(9,"ul")(10,"li")(11,"a",4),r(12,"Pol\xEDtica de Privacidad"),t()(),i(13,"li")(14,"a",5),r(15,"T\xE9rminos de Servicio"),t()(),i(16,"li")(17,"a",6),r(18,"Pol\xEDtica de Cookies"),t()(),i(19,"li")(20,"a",7),r(21,"Preguntas Frecuentes"),t()(),i(22,"li")(23,"a",8),r(24,"Mapa del sitio"),t()()()(),i(25,"div",9)(26,"h3"),r(27,"Contacto"),t(),i(28,"ul")(29,"li")(30,"a",10),m(31,"i",11),r(32,": 449 123 45 67"),t()(),i(33,"li")(34,"a",10),m(35,"i",12),r(36,": fullstorage@gmail.com"),t()(),i(37,"li")(38,"a",10),m(39,"i",13),r(40,": Lunes a Viernes 9:00 AM - 6:00 PM"),t()()()()(),i(41,"div",14)(42,"div",15)(43,"h3"),r(44,"Nuestras Redes."),t(),i(45,"ul",16)(46,"li")(47,"a",10),m(48,"i",17),t()(),i(49,"li")(50,"a",10),m(51,"i",18),t()(),i(52,"li")(53,"a",10),m(54,"i",19),t()()()(),i(55,"div",20)(56,"p"),r(57,"\xA9 "),i(58,"a",10)(59,"span"),r(60,"FullStorage"),t()(),r(61),t()()()()),e&2&&(l(61),v(" ",a.footerDate,". Todos los derechos reservados."))},styles:[".footer[_ngcontent-%COMP%], .up-us-left[_ngcontent-%COMP%], .up-privacy-center[_ngcontent-%COMP%], .up-contact-rigth[_ngcontent-%COMP%], .down-socials[_ngcontent-%COMP%], .down-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.up-footer[_ngcontent-%COMP%], .down-footer[_ngcontent-%COMP%], #socials-list[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:50px}.footer[_ngcontent-%COMP%]{margin-top:auto;padding:20px 0;width:100%;background-color:#f1f1f1;text-align:center}li[_ngcontent-%COMP%]{list-style:none}.down-text[_ngcontent-%COMP%], .down-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], li[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}"]})};var Qe=class o{title="proyecto40_sprint05_integracion";constructor(){this.setInitialTheme()}setInitialTheme(){let n=localStorage.getItem("mode"),e=document.body;n==="dark"?(e.classList.add("dark-mode"),e.classList.remove("clear-mode")):(e.classList.add("clear-mode"),e.classList.remove("dark-mode"))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"d-flex","flex-column","justify-content-between","min-vh-100"],[1,"flex-grow-1"]],template:function(e,a){e&1&&(i(0,"div",0),m(1,"app-navbar"),i(2,"div",1),m(3,"router-outlet"),t(),m(4,"app-footer"),t())},dependencies:[Z,ze,Ze],encapsulation:2})};pt(Qe,bt).catch(o=>console.error(o));
